{"ast":null,"code":"import _defineProperty from\"/Users/aranichaudhuri/GitHub/the-mall2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/aranichaudhuri/GitHub/the-mall2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/aranichaudhuri/GitHub/the-mall2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{memo,useState}from\"react\";import firebase from\"firebase\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SubscribeSection=function SubscribeSection(){var _useState=useState({name:\"\",email:\"\",access:false}),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setuserData=_useState2[1];var addDatatoState=function addDatatoState(e){setuserData(_objectSpread(_objectSpread({},userData),{},_defineProperty({},e.target.name,e.target.value)));};// console.log(\"data is: \", userData);\nvar handleSubmit=function handleSubmit(e){e.preventDefault();if(userData.name==\"\"||userData.email==\"\"){alert(\"please fill the form correctly\");}else{firebase.firestore().collection(\"users\").add(userData).then(function(response){axios.post(\"https://us-central1-the-mall-site.cloudfunctions.net/sendEmail\",{to:\"info@veniceindia.com\",subject:\"[Access Request] MALL INSIDER\",html_content:\"<html><h3>User details</h3><p><b>Name: </b>\".concat(userData.name,\"</p><p><b>Email address: </b>\").concat(userData.email,\"</p></html>\"),bcc:\"me@iarani.com\"});alert(\"Thanks for registering\");}).catch(function(e){return console.log(\"error\",e);}).finally(function(){return setuserData({name:\"\",email:\"\"});});}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-5\",style:{backgroundColor:\"black\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"d-none d-md-block text-light text-center\",style:{fontSize:\"1.5rem\",lineHeight:\"2\",marginBottom:\"20px\",fontWeight:\"600\"},children:\"BECOME A MALL INSIDER TODAY.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 mx-auto rounded\",style:{maxWidth:\"600px\"},children:[/*#__PURE__*/_jsx(\"form\",{className:\"form-inline\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row gx-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mr-sm-2 mb-md-0 mb-2\",id:\"inlineFormInputName\",placeholder:\"Your name\",name:\"name\",onChange:addDatatoState,value:userData===null||userData===void 0?void 0:userData.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control mr-sm-2 mb-md-0 mb-2\",id:\"inlineFormInputEmail\",placeholder:\"Your email\",name:\"email\",onChange:addDatatoState,value:userData===null||userData===void 0?void 0:userData.email})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-danger w-100\",children:/*#__PURE__*/_jsx(\"span\",{className:\"small\",children:\"REQUEST ACCESS\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row gx-1 mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 text-center\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"/reward\",className:\"text-light text-underline text-decoration-none border-bottom\",children:[\"Learn more about \",/*#__PURE__*/_jsx(\"strong\",{children:\"The Mall Insider Pass\"}),\" \"]})})})]})]})})});};export default/*#__PURE__*/memo(SubscribeSection);","map":null,"metadata":{},"sourceType":"module"}