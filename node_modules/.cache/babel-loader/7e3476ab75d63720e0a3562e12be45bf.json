{"ast":null,"code":"var _jsxFileName = \"/Users/aranichaudhuri/GitHub/the-mall2/src/components/Dispbrands.js\",\n    _s = $RefreshSig$();\n\nimport React, { memo, useState, useEffect } from \"react\";\nimport firebase from \"firebase\";\nimport { useCollection, useDocument } from \"react-firebase-hooks/firestore\";\nimport { connect } from \"react-redux\";\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Dispbrands(props) {\n  _s();\n\n  var _storeSnapshot$docs, _categorySnapshot$doc;\n\n  //display category\n  const [categorySnapshot, categoryloading, categoryerror] = useCollection(firebase.firestore().collection('storeCategory'));\n  const {\n    searchItem\n  } = props;\n  const [searchCategory, setsearchCategory] = useState(\"\");\n  const [dispData, setdispData] = useState([]);\n  const [storeSnapshot, loadingStore, errorStore] = useCollection(firebase.firestore().collection('store'));\n  const temp = [];\n  storeSnapshot === null || storeSnapshot === void 0 ? void 0 : (_storeSnapshot$docs = storeSnapshot.docs) === null || _storeSnapshot$docs === void 0 ? void 0 : _storeSnapshot$docs.forEach(doc => {\n    temp.push({ ...(doc === null || doc === void 0 ? void 0 : doc.data()),\n      id: doc === null || doc === void 0 ? void 0 : doc.id\n    });\n  });\n  let matches = [];\n\n  if (searchItem.length > 0) {\n    matches = []; // const clearState = () => {\n    //   setsearchCategory(\"\");\n    // };\n\n    matches = temp.filter(item => {\n      const regex = new RegExp(`${searchItem}`, \"gi\");\n      return item.name.match(regex);\n    });\n  } else if (searchCategory.length > 0) {\n    matches = [];\n    matches = temp.filter(item => {\n      var _item$category;\n\n      return item === null || item === void 0 ? void 0 : (_item$category = item.category) === null || _item$category === void 0 ? void 0 : _item$category.includes(searchCategory);\n    });\n  }\n\n  useEffect(() => {\n    if (searchItem.length > 0) {\n      setdispData(matches);\n      matches = [];\n      setsearchCategory(\"\");\n    } else if (searchCategory.length > 0) {\n      setdispData(matches);\n      matches = [];\n    } else {\n      setdispData(temp);\n    }\n  }, [storeSnapshot, searchItem, searchCategory]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row searchsuggest mt-2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-10 offset-md-1 text-center \",\n        children: categorySnapshot === null || categorySnapshot === void 0 ? void 0 : (_categorySnapshot$doc = categorySnapshot.docs) === null || _categorySnapshot$doc === void 0 ? void 0 : _categorySnapshot$doc.map((single, e) => {\n          var _single$data2;\n\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn btn-light m-1 \",\n            style: {\n              backgroundColor: \"#ffffff\"\n            },\n            onClick: () => {\n              var _single$data;\n\n              return setsearchCategory(single === null || single === void 0 ? void 0 : (_single$data = single.data()) === null || _single$data === void 0 ? void 0 : _single$data.value);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"small\",\n              children: single === null || single === void 0 ? void 0 : (_single$data2 = single.data()) === null || _single$data2 === void 0 ? void 0 : _single$data2.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row my-4\",\n      children: [loadingStore && /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"d-flex justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"spinner-border\",\n          role: \"status\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"sr-only\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 26\n      }, this), dispData.map(store => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          style: {\n            textDecoration: \"none\",\n            color: \"inherit\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card  text-center mb-5 \",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"250px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"card-img-top p-5\",\n                src: store === null || store === void 0 ? void 0 : store.image_url,\n                style: {\n                  paddingTop: \"auto\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"card-title\",\n              style: {\n                fontWeight: \"600\"\n              },\n              children: store === null || store === void 0 ? void 0 : store.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-text\",\n                children: store.timing\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"rgba(0,0,0,0.5)\"\n                },\n                children: store === null || store === void 0 ? void 0 : store.contact_detail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Dispbrands, \"68k6q1ByVtsmwEM1tD+ibKP0nrs=\", false, function () {\n  return [useCollection, useCollection];\n});\n\n_c = Dispbrands;\nexport default connect(state => ({\n  searchItem: state.searchItem\n}))( /*#__PURE__*/memo(Dispbrands));\n\nvar _c;\n\n$RefreshReg$(_c, \"Dispbrands\");","map":{"version":3,"sources":["/Users/aranichaudhuri/GitHub/the-mall2/src/components/Dispbrands.js"],"names":["React","memo","useState","useEffect","firebase","useCollection","useDocument","connect","Link","Dispbrands","props","categorySnapshot","categoryloading","categoryerror","firestore","collection","searchItem","searchCategory","setsearchCategory","dispData","setdispData","storeSnapshot","loadingStore","errorStore","temp","docs","forEach","doc","push","data","id","matches","length","filter","item","regex","RegExp","name","match","category","includes","map","single","e","backgroundColor","value","label","store","textDecoration","color","height","image_url","paddingTop","fontWeight","timing","contact_detail","state"],"mappings":"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","sourcesContent":["import React, { memo, useState, useEffect } from \"react\";\nimport firebase from \"firebase\";\nimport { useCollection, useDocument } from \"react-firebase-hooks/firestore\";\nimport { connect } from \"react-redux\";\nimport { Link } from 'react-router-dom';\n\nfunction Dispbrands(props) {\n  //display category\n  const [categorySnapshot, categoryloading, categoryerror] = useCollection(firebase.firestore().collection('storeCategory'));\n\n  const { searchItem } = props;\n  const [searchCategory, setsearchCategory] = useState(\"\");\n  const [dispData, setdispData] = useState([]);\n  const [storeSnapshot, loadingStore, errorStore] = useCollection(\n    firebase.firestore().collection('store')\n  );\n\n  const temp = [];\n  storeSnapshot?.docs?.forEach((doc) => {\n    temp.push({ ...doc?.data(), id: doc?.id });\n  });\n\n  let matches = [];\n  if (searchItem.length > 0) {\n    matches = [];\n    // const clearState = () => {\n    //   setsearchCategory(\"\");\n    // };\n    matches = temp.filter(item => {\n      const regex = new RegExp(`${searchItem}`, \"gi\");\n      return item.name.match(regex)\n    })\n  } else if (searchCategory.length > 0) {\n    matches = []\n    matches = temp.filter(item => {\n      return item?.category?.includes(searchCategory);\n    })\n  }\n\n  useEffect(() => {\n    if (searchItem.length > 0) {\n      setdispData(matches);\n      matches = []\n      setsearchCategory(\"\");\n    } else if (searchCategory.length > 0) {\n      setdispData(matches);\n      matches = []\n    }\n    else {\n      setdispData(temp);\n    }\n  }, [storeSnapshot, searchItem, searchCategory]);\n\n\n  return (\n    <>\n      <div className=\"row searchsuggest mt-2\">\n        {/*category mappped here*/}\n        <div className=\"col-md-10 offset-md-1 text-center \">\n          \n          {categorySnapshot?.docs?.map((single, e) => (\n            <div className=\"btn btn-light m-1 \" style={{ backgroundColor: \"#ffffff\" }}\n              onClick={() => setsearchCategory(single?.data()?.value)}\n            >\n              <span className=\"small\">{single?.data()?.label}</span>\n            </div>\n          ))}\n        </div>\n\n      </div>\n      <div className=\"row my-4\">\n        {loadingStore && <div class=\"d-flex justify-content-center\">\n          <div class=\"spinner-border\" role=\"status\">\n            <span class=\"sr-only\">Loading...</span>\n          </div>\n        </div>}\n        {dispData.map((store) => (\n          <div className=\"col-md-3\">\n            <div className=\"\" style={{ textDecoration: \"none\", color: \"inherit\" }}>\n              <div className=\"card  text-center mb-5 \">\n                <div style={{ height: \"250px\" }}>\n                  <img className=\"card-img-top p-5\" src={store?.image_url} style={{paddingTop: \"auto\"}} />\n                </div>\n                <h4 className=\"card-title\" style={{ fontWeight: \"600\" }}>{store?.name}</h4>\n\n                <div className=\"card-body\">\n                  <div className=\"card-text\">{store.timing}</div>\n                  <span style={{ color: \"rgba(0,0,0,0.5)\" }}>{store?.contact_detail}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n        ))}\n      </div>\n    </>\n  );\n}\n\nexport default connect(\n  (state) => ({\n    searchItem: state.searchItem\n  }))\n  (memo(Dispbrands));\n"]},"metadata":{},"sourceType":"module"}