{"ast":null,"code":"var _jsxFileName = \"/Users/aranichaudhuri/GitHub/the-mall2/src/components/admin/Addcategory.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Modal, Form, Button } from \"react-bootstrap\";\nimport firebase from \"firebase\";\nimport { useCollection, useDocument } from \"react-firebase-hooks/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AddCat = props => {\n  _s();\n\n  var _categorySnapshot$doc;\n\n  const {\n    setCat,\n    showCat\n  } = props;\n  const [categorySnapshot, categoryloading, categoryerror] = useCollection(firebase.firestore().collection('storeCategory'));\n  const [newCategory, setnewCategory] = useState(\"\"); // add category to state;\n\n  const addToState = e => {\n    setnewCategory(e.target.value);\n  }; //Add category to db function\n\n\n  const addCategory = (category, e) => {\n    e.preventDefault();\n    firebase.firestore().collection('storeCategory').add({\n      label: category,\n      id: category,\n      value: category.toLowerCase()\n    }).then(h => alert(\"category added success\")).catch(e => console.log(e)).finally(() => setnewCategory(\"\"));\n  }; //remove category from db function\n\n\n  const delCategory = takeID => {\n    firebase.firestore().collection('storeCategory').doc(takeID).delete().then(h => alert(\"category deleted success\")).catch(e => console.log(e));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      show: showCat,\n      onHide: () => setCat(false),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Store Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: e => addCategory(newCategory, e),\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Add category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"store_category\",\n              onChange: addToState\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 7\n        }, this), categoryloading && /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"d-flex justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"spinner-border\",\n            role: \"status\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"sr-only\",\n              children: \"Loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 31\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-column\",\n          children: categorySnapshot === null || categorySnapshot === void 0 ? void 0 : (_categorySnapshot$doc = categorySnapshot.docs) === null || _categorySnapshot$doc === void 0 ? void 0 : _categorySnapshot$doc.map((single, e) => {\n            var _single$data;\n\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \" my-1 d-flex justify-content-between\",\n              children: [single === null || single === void 0 ? void 0 : (_single$data = single.data()) === null || _single$data === void 0 ? void 0 : _single$data.label, /*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => delCategory(single === null || single === void 0 ? void 0 : single.id),\n                variant: \"danger\",\n                size: \"sm\",\n                children: \"DELETE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(AddCat, \"GjB9ryRiKNxLWrZwU8Z5VPswW/I=\", false, function () {\n  return [useCollection];\n});\n\n_c = AddCat;\nexport default AddCat;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddCat\");","map":{"version":3,"sources":["/Users/aranichaudhuri/GitHub/the-mall2/src/components/admin/Addcategory.js"],"names":["React","useState","useEffect","Modal","Form","Button","firebase","useCollection","useDocument","AddCat","props","setCat","showCat","categorySnapshot","categoryloading","categoryerror","firestore","collection","newCategory","setnewCategory","addToState","e","target","value","addCategory","category","preventDefault","add","label","id","toLowerCase","then","h","alert","catch","console","log","finally","delCategory","takeID","doc","delete","docs","map","single","data"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport {Modal, Form, Button} from \"react-bootstrap\";\nimport firebase from \"firebase\";\nimport { useCollection,useDocument } from \"react-firebase-hooks/firestore\";\n\n\nconst AddCat = (props) => {\n\n    const {setCat, showCat} = props;\n    const [categorySnapshot,categoryloading, categoryerror] = useCollection(firebase.firestore().collection('storeCategory'));\n\n    const [newCategory,setnewCategory] = useState(\"\");\n\n    // add category to state;\n    const addToState = (e) => {\n      setnewCategory(\n          e.target.value\n      )\n    }\n\n    //Add category to db function\n    const addCategory = (category,e) => {\n        e.preventDefault();\n\n      firebase.firestore().collection('storeCategory').add({\n        label:   category,\n        id: category,\n        value: category.toLowerCase()\n      })\n      .then((h) => alert(\"category added success\"))\n      .catch((e) => console.log(e))\n      .finally(() => setnewCategory(\"\"))\n\n    }\n\n    //remove category from db function\n    const delCategory = (takeID) => {\n      firebase.firestore().collection('storeCategory').doc(takeID).delete()\n      .then((h) => alert(\"category deleted success\"))\n      .catch((e) => console.log(e))\n\n    }\n\n\n    return(\n      <>\n      <Modal show={showCat} onHide={() => setCat(false)}>\n      <Modal.Header closeButton>\n        <Modal.Title>Store Update</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n\n      <Form  onSubmit = {(e) => addCategory(newCategory,e)}>\n\n          <Form.Group>\n              <Form.Label>Add category</Form.Label>\n              <Form.Control type=\"text\" name=\"store_category\" onChange={addToState}/>\n          </Form.Group>\n          <br />\n          <Button variant=\"primary\"  type=\"submit\">Upload</Button>\n      </Form>\n\n        {categoryloading && <div class=\"d-flex justify-content-center\">\n                            <div class=\"spinner-border\" role=\"status\">\n                              <span class=\"sr-only\">Loading...</span>\n                            </div>\n                          </div>}\n      <div className=\"d-flex flex-column\">\n            {categorySnapshot?.docs?.map((single,e) => (\n                <div className=\" my-1 d-flex justify-content-between\">\n                    {single?.data()?.label}\n                    <Button onClick={() => delCategory(single?.id) } variant=\"danger\" size=\"sm\">DELETE</Button>\n                </div>\n\n            ))}\n      </div>\n\n      </Modal.Body>\n    </Modal>\n\n      </>\n\n    );\n\n\n}\n\nexport default AddCat;\n"]},"metadata":{},"sourceType":"module"}