{"code":"(this.webpackJsonpumagine=this.webpackJsonpumagine||[]).push([[6],{329:function(e,t,c){\"use strict\";c.r(t);var n=c(17),l=c(60),i=c(2),s=c(24),a=c(71),r=c(33),d=c(5);function o(e){var t,c,r=Object(a.a)(s.a.firestore().collection(\"storeCategory\")),o=Object(l.a)(r,3),j=o[0],u=(o[1],o[2],e.searchItem),v=Object(i.useState)(\"\"),b=Object(l.a)(v,2),h=b[0],m=b[1],O=Object(i.useState)([]),f=Object(l.a)(O,2),x=f[0],g=f[1],p=Object(a.a)(s.a.firestore().collection(\"store\")),y=Object(l.a)(p,3),N=y[0],w=y[1],k=(y[2],[]);null===N||void 0===N||null===(t=N.docs)||void 0===t||t.forEach((function(e){k.push(Object(n.a)(Object(n.a)({},null===e||void 0===e?void 0:e.data()),{},{id:null===e||void 0===e?void 0:e.id}))}));var C=[];return u.length>0?(C=[],C=k.filter((function(e){var t=new RegExp(\"\".concat(u),\"gi\");return e.name.match(t)}))):h.length>0&&(C=[],C=k.filter((function(e){var t;return null===e||void 0===e||null===(t=e.category)||void 0===t?void 0:t.includes(h)}))),Object(i.useEffect)((function(){u.length>0?(g(C),C=[],m(\"\")):h.length>0?(g(C),C=[]):g(k)}),[N,u,h]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(\"div\",{className:\"row searchsuggest mt-2\",children:Object(d.jsx)(\"div\",{className:\"col-md-10 offset-md-1 text-center \",children:null===j||void 0===j||null===(c=j.docs)||void 0===c?void 0:c.map((function(e,t){var c;return Object(d.jsx)(\"div\",{className:\"btn btn-light m-1 \",style:{backgroundColor:\"#ffffff\"},onClick:function(){var t;return m(null===e||void 0===e||null===(t=e.data())||void 0===t?void 0:t.value)},children:Object(d.jsx)(\"span\",{className:\"small\",children:null===e||void 0===e||null===(c=e.data())||void 0===c?void 0:c.label})})}))})}),Object(d.jsxs)(\"div\",{className:\"row my-4\",children:[w&&Object(d.jsx)(\"div\",{class:\"d-flex justify-content-center\",children:Object(d.jsx)(\"div\",{class:\"spinner-border\",role:\"status\",children:Object(d.jsx)(\"span\",{class:\"sr-only\",children:\"Loading...\"})})}),x.map((function(e){return Object(d.jsx)(\"div\",{className:\"col-md-3\",children:Object(d.jsx)(\"div\",{className:\"\",style:{textDecoration:\"none\",color:\"inherit\"},children:Object(d.jsxs)(\"div\",{className:\"card  text-center mb-5 \",children:[Object(d.jsx)(\"div\",{style:{height:\"250px\"},children:Object(d.jsx)(\"img\",{className:\"card-img-top p-5\",src:null===e||void 0===e?void 0:e.image_url,style:{paddingTop:\"auto\"}})}),Object(d.jsx)(\"h4\",{className:\"card-title\",style:{fontWeight:\"600\"},children:null===e||void 0===e?void 0:e.name}),Object(d.jsxs)(\"div\",{className:\"card-body\",children:[Object(d.jsx)(\"div\",{className:\"card-text\",children:e.timing}),Object(d.jsx)(\"span\",{style:{color:\"rgba(0,0,0,0.5)\"},children:null===e||void 0===e?void 0:e.contact_detail})]})]})})})}))]})]})}t.default=Object(r.b)((function(e){return{searchItem:e.searchItem}}))(Object(i.memo)(o))}}]);","name":"static/js/6.20ad1354.chunk.js","input":"(this[\"webpackJsonpumagine\"] = this[\"webpackJsonpumagine\"] || []).push([[6],{\n\n/***/ 329:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_aranichaudhuri_GitHub_the_mall2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17);\n/* harmony import */ var _Users_aranichaudhuri_GitHub_the_mall2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var firebase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(24);\n/* harmony import */ var react_firebase_hooks_firestore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(71);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(33);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(5);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);\nfunction Dispbrands(props){var _storeSnapshot$docs,_categorySnapshot$doc;//display category\nvar _useCollection=Object(react_firebase_hooks_firestore__WEBPACK_IMPORTED_MODULE_4__[/* useCollection */ \"a\"])(firebase__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].firestore().collection('storeCategory')),_useCollection2=Object(_Users_aranichaudhuri_GitHub_the_mall2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useCollection,3),categorySnapshot=_useCollection2[0],categoryloading=_useCollection2[1],categoryerror=_useCollection2[2];var searchItem=props.searchItem;var _useState=Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(\"\"),_useState2=Object(_Users_aranichaudhuri_GitHub_the_mall2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState,2),searchCategory=_useState2[0],setsearchCategory=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])([]),_useState4=Object(_Users_aranichaudhuri_GitHub_the_mall2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState3,2),dispData=_useState4[0],setdispData=_useState4[1];var _useCollection3=Object(react_firebase_hooks_firestore__WEBPACK_IMPORTED_MODULE_4__[/* useCollection */ \"a\"])(firebase__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"].firestore().collection('store')),_useCollection4=Object(_Users_aranichaudhuri_GitHub_the_mall2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useCollection3,3),storeSnapshot=_useCollection4[0],loadingStore=_useCollection4[1],errorStore=_useCollection4[2];var temp=[];storeSnapshot===null||storeSnapshot===void 0?void 0:(_storeSnapshot$docs=storeSnapshot.docs)===null||_storeSnapshot$docs===void 0?void 0:_storeSnapshot$docs.forEach(function(doc){temp.push(Object(_Users_aranichaudhuri_GitHub_the_mall2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(Object(_Users_aranichaudhuri_GitHub_the_mall2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},doc===null||doc===void 0?void 0:doc.data()),{},{id:doc===null||doc===void 0?void 0:doc.id}));});var matches=[];if(searchItem.length>0){matches=[];// const clearState = () => {\n//   setsearchCategory(\"\");\n// };\nmatches=temp.filter(function(item){var regex=new RegExp(\"\".concat(searchItem),\"gi\");return item.name.match(regex);});}else if(searchCategory.length>0){matches=[];matches=temp.filter(function(item){var _item$category;return item===null||item===void 0?void 0:(_item$category=item.category)===null||_item$category===void 0?void 0:_item$category.includes(searchCategory);});}Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function(){if(searchItem.length>0){setdispData(matches);matches=[];setsearchCategory(\"\");}else if(searchCategory.length>0){setdispData(matches);matches=[];}else{setdispData(temp);}},[storeSnapshot,searchItem,searchCategory]);return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"Fragment\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"div\",{className:\"row searchsuggest mt-2\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"div\",{className:\"col-md-10 offset-md-1 text-center \",children:categorySnapshot===null||categorySnapshot===void 0?void 0:(_categorySnapshot$doc=categorySnapshot.docs)===null||_categorySnapshot$doc===void 0?void 0:_categorySnapshot$doc.map(function(single,e){var _single$data2;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"div\",{className:\"btn btn-light m-1 \",style:{backgroundColor:\"#ffffff\"},onClick:function onClick(){var _single$data;return setsearchCategory(single===null||single===void 0?void 0:(_single$data=single.data())===null||_single$data===void 0?void 0:_single$data.value);},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"span\",{className:\"small\",children:single===null||single===void 0?void 0:(_single$data2=single.data())===null||_single$data2===void 0?void 0:_single$data2.label})});})})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxs\"])(\"div\",{className:\"row my-4\",children:[loadingStore&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"div\",{class:\"d-flex justify-content-center\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"div\",{class:\"spinner-border\",role:\"status\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"span\",{class:\"sr-only\",children:\"Loading...\"})})}),dispData.map(function(store){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"div\",{className:\"\",style:{textDecoration:\"none\",color:\"inherit\"},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxs\"])(\"div\",{className:\"card  text-center mb-5 \",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"div\",{style:{height:\"250px\"},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"img\",{className:\"card-img-top p-5\",src:store===null||store===void 0?void 0:store.image_url,style:{paddingTop:\"auto\"}})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"h4\",{className:\"card-title\",style:{fontWeight:\"600\"},children:store===null||store===void 0?void 0:store.name}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsxs\"])(\"div\",{className:\"card-body\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"div\",{className:\"card-text\",children:store.timing}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__[\"jsx\"])(\"span\",{style:{color:\"rgba(0,0,0,0.5)\"},children:store===null||store===void 0?void 0:store.contact_detail})]})]})})});})]})]});}/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_5__[/* connect */ \"b\"])(function(state){return{searchItem:state.searchItem};})(/*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_2__[\"memo\"])(Dispbrands)));\n\n/***/ })\n\n}]);","inputSourceMap":null}